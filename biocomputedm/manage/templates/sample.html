{% extends "information_panel.html" %}

{% block custom_css %}
{{ super() }}
<link rel=stylesheet type="text/css" href="/static/css/large_table.css">
{% endblock %}

{% block info_panel %}
<h3>Info</h3>
<h4>To the right is any information available about this sample</h4>
<h4>This includes any available data sets (pipeline outputs)</h4>
<h4>Also available are a some management tools, the options here are dependant on your privileges</h4>
{% endblock %}

{% block main_panel %}
<div class="input-table clear">
    <div class="action exempt">
        <h3>Sample Information</h3>

        <table class="small_content">
            <tr>
                <th>Name</th>
                <td>{{ sample.name }}</td>
            </tr>
        </table>
    </div>

    <div class="spacer"></div>

    <div class="action exempt">
        <h3>Sample Datasets</h3>

        {% if datasets %}
        <table class="small_content">
            <tr>
                <th>Dataset ID</th>
                <th>Pipeline Source</th>
            </tr>
            {% for data in datasets %}
            <tr>
                <td><a href="{{ url_for('manage.sample_data', oid=oid, data_file=data['name']) }}">{{ data['name'] }}</a></td>
                <td><a href="{{ url_for('pipelines.display_pipeline_instance', oid=data['pipeline'].display_key) }}">{{ data['pipeline'].pipeline.name }}</a></td>
            </tr>
            {% endfor %}
        </table>
        {% else %}
        <h3>No output information available for this pipeline instance.</h3>
        {% endif %}
    </div>

    {% if g.user.type == "User" %}
    <div class="spacer"></div>

    <div class="action exempt">
        <h3>Manage</h3>

        <table>
            <tr>
                <td><a class="input" href="{{ url_for('admin.link_to_customer', oid=sample.display_key, origin='sample') }}">Link to Consignor</a></td>
            </tr>
        </table>
    </div>
    {% endif %}
</div>
{% endblock %}